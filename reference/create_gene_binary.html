<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Enables creation of a binary matrix from a mutation, fusion or CNA file with a predefined list of samples (rows are samples and columns are genes) — create_gene_binary • gnomeR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Atkinson_Hyperlegible-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Enables creation of a binary matrix from a mutation, fusion or CNA file with a predefined list of samples (rows are samples and columns are genes) — create_gene_binary"><meta name="description" content="Enables creation of a binary matrix from a mutation, fusion or CNA file with
a predefined list of samples (rows are samples and columns are genes)"><meta property="og:description" content="Enables creation of a binary matrix from a mutation, fusion or CNA file with
a predefined list of samples (rows are samples and columns are genes)"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gnomeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0.9004</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/data-processing-vignette.html">Processing Data with {gnomeR}</a></li>
    <li><a class="dropdown-item" href="../articles/genie-bpc-vignette.html">Analyzing GENIE BPC Data Using {gnomeR}</a></li>
    <li><a class="dropdown-item" href="../articles/qa-impact-data.html">How to QA Your IMPACT Data</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MSKCC-Epi-Bio/gnomeR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Enables creation of a binary matrix from a mutation, fusion or CNA file with a predefined list of samples (rows are samples and columns are genes)</h1>
      <small class="dont-index">Source: <a href="https://github.com/MSKCC-Epi-Bio/gnomeR/blob/main/R/create-gene-binary.R" class="external-link"><code>R/create-gene-binary.R</code></a></small>
      <div class="d-none name"><code>create_gene_binary.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Enables creation of a binary matrix from a mutation, fusion or CNA file with
a predefined list of samples (rows are samples and columns are genes)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_gene_binary</span><span class="op">(</span></span>
<span>  samples <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mutation <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mut_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"omit_germline"</span>, <span class="st">"somatic_only"</span>, <span class="st">"germline_only"</span>, <span class="st">"all"</span><span class="op">)</span>,</span>
<span>  snp_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_silent <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fusion <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cna <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  high_level_cna_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  specify_panel <span class="op">=</span> <span class="st">"no"</span>,</span>
<span>  recode_aliases <span class="op">=</span> <span class="st">"impact"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-samples">samples<a class="anchor" aria-label="anchor" href="#arg-samples"></a></dt>
<dd><p>a character vector specifying which samples should be included in the resulting data frame.
Default is NULL is which case all samples with an alteration in the mutation, cna or fusions file will be used. If you specify
a vector of samples that contain samples not in any of the passed genomic data frames, 0's (or NAs when appropriate if specifying a panel) will be
returned for every column of that patient row.</p></dd>


<dt id="arg-mutation">mutation<a class="anchor" aria-label="anchor" href="#arg-mutation"></a></dt>
<dd><p>A data frame of mutations in the format of a maf file.</p></dd>


<dt id="arg-mut-type">mut_type<a class="anchor" aria-label="anchor" href="#arg-mut-type"></a></dt>
<dd><p>The mutation type to be used. Options are "omit_germline", "somatic_only", "germline_only" or "all". Note "all" will
keep all mutations regardless of status (not recommended). Default is omit_germline which includes all somatic mutations, as well as any unknown mutation types (most of which are usually somatic)</p></dd>


<dt id="arg-snp-only">snp_only<a class="anchor" aria-label="anchor" href="#arg-snp-only"></a></dt>
<dd><p>Boolean to rather the genetics events to be kept only to be SNPs (insertions and deletions will be removed).
Default is FALSE.</p></dd>


<dt id="arg-include-silent">include_silent<a class="anchor" aria-label="anchor" href="#arg-include-silent"></a></dt>
<dd><p>Boolean to keep or remove all silent mutations. TRUE keeps, FALSE removes. Default is FALSE.</p></dd>


<dt id="arg-fusion">fusion<a class="anchor" aria-label="anchor" href="#arg-fusion"></a></dt>
<dd><p>A data frame of fusions. If not NULL the outcome will be added to the matrix with columns ending in ".fus".
Default is NULL.</p></dd>


<dt id="arg-cna">cna<a class="anchor" aria-label="anchor" href="#arg-cna"></a></dt>
<dd><p>A data frame of copy number alterations. If inputed the outcome will be added to the matrix with columns ending in ".del" and ".amp".
Default is NULL.</p></dd>


<dt id="arg-high-level-cna-only">high_level_cna_only<a class="anchor" aria-label="anchor" href="#arg-high-level-cna-only"></a></dt>
<dd><p>If TRUE, only deep deletions (-2, -1.5) or high level amplifications (2) will be counted as events
in the binary matrix. Gains (1) and losses (1) will be ignored. Default is <code>FALSE</code> where all CNA events are counted.</p></dd>


<dt id="arg-specify-panel">specify_panel<a class="anchor" aria-label="anchor" href="#arg-specify-panel"></a></dt>
<dd><p>Default is <code>"no"</code> where no panel annotation is done. Otherwise pass a character vector of length 1 with a
panel id (see <code><a href="gene_panels.html">gnomeR::gene_panels</a></code> for available panels), or <code>"impact"</code> for automated IMPACT annotation.
Alternatively, you may pass a data frame of <code>sample_id</code>-<code>panel_id</code> pairs specifying panels for each sample for
which to insert NAs indicating genes not tested. See below for details.</p></dd>


<dt id="arg-recode-aliases">recode_aliases<a class="anchor" aria-label="anchor" href="#arg-recode-aliases"></a></dt>
<dd><p>Default is <code>"impact"</code> where function will check for IMPACT genes that may go by more than 1 name in your data and replace the alias name with the standardized gene name (see <code><a href="impact_alias_table.html">gnomeR::impact_alias_table</a></code> for reference list).
If <code>"no"</code>, no alias annotation will be performed. If <code>"genie"</code>, an alias table with GENIE BPC genes will be used to check (see <code><a href="genie_alias_table.html">gnomeR::genie_alias_table</a></code> for reference list).
Alternatively, you may pass a custom alias list as a data frame with columns <code>hugo_symbol</code> and <code>alias</code> specifying a custom alias table to use for checks. See below for details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a data frame with sample_id and alteration binary columns with values of 0/1</p>
    </div>
    <div class="section level2">
    <h2 id="specify-panel-argument"><code>specify_panel</code> argument<a class="anchor" aria-label="anchor" href="#specify-panel-argument"></a></h2>


<ul><li><p>If <code>specify_panel = "no"</code> is passed (default) data will be returned as is without any additional NA annotations.</p></li>
<li><p>If a single panel id is passed (e.g. <code>specify_panel = "IMPACT468"</code>), all genes in your data that are not tested on that panel will be set to
<code>NA</code> in results for all samples (see gnomeR::gene_panels to see which genes are on each supported panels).</p></li>
<li><p>If <code>specify_panel = "impact"</code> is passed, impact panel version will be inferred based on each sample_id (based on <code>IMX</code> nomenclature) and NA's will be
annotated accordingly for each sample/panel pair.</p></li>
<li><p>If you wish to specify different panels for each sample, pass a data frame (with all samples included) with columns: <code>sample_id</code>, and <code>panel_id</code>. Each sample will be
annotated with NAs according to that specific panel. If a sample in your data is missing from the <code>sample_id</code> column in the
<code>specify_panel</code> dataframe, it will be returned with no annotation (equivalent of setting it to "no").</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="recode-aliases-argument"><code>recode_aliases</code> argument<a class="anchor" aria-label="anchor" href="#recode-aliases-argument"></a></h2>


<ul><li><p>If <code>recode_aliases = "impact"</code> is passed (default), function will use <code><a href="impact_alias_table.html">gnomeR::impact_alias_table</a></code> to find and replace any non-standard hugo symbol names with their
more common (or more recent) accepted gene name.</p></li>
<li><p>If <code>recode_aliases = "genie"</code> is passed, function will use <code><a href="genie_alias_table.html">gnomeR::genie_alias_table</a></code> to find and replace any non-standard hugo symbol names with their
more common (or more recent) accepted gene name.</p></li>
<li><p>If <code>recode_aliases = "no"</code> is passed, data will be returned as is without any alias replacements.</p></li>
<li><p>If you have a custom table of vetted aliases you wish to use, you can pass a data frame with columns: <code>hugo_symbol</code>, and <code>alias</code>.
Each row should have one gene in the <code>hugo_symbol</code> column indicating the accepted gene name, and one gene in the <code>alias</code> column indicating an alias
you want to check for and replace. If a gene has multiple aliases to check for, each should be represented in its own separate row.
See <code><a href="impact_alias_table.html">gnomeR::impact_alias_table</a></code> for an example of accepted data formatting.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">mut.only</span> <span class="op">&lt;-</span> <span class="fu">create_gene_binary</span><span class="op">(</span>mutation <span class="op">=</span> <span class="fu">gnomeR</span><span class="fu">::</span><span class="va"><a href="mutations.html">mutations</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> `samples` argument is `NULL`. We will infer your cohort inclusion and resulting data frame will include all samples with at least one alteration in <span style="color: #00BB00;">mutation</span>, <span style="color: #00BB00;">fusion</span> or <span style="color: #00BB00;">cna</span> data frames</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> 7 mutations have `NA` or blank in the <span style="color: #00BB00;">mutationStatus</span> column instead of 'SOMATIC' or 'GERMLINE'. These were assumed to be 'SOMATIC' and were retained in the resulting binary matrix.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">samples</span> <span class="op">&lt;-</span> <span class="fu">gnomeR</span><span class="fu">::</span><span class="va"><a href="mutations.html">mutations</a></span><span class="op">$</span><span class="va">sampleId</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">bin.mut</span> <span class="op">&lt;-</span> <span class="fu">create_gene_binary</span><span class="op">(</span></span></span>
<span class="r-in"><span>  samples <span class="op">=</span> <span class="va">samples</span>, mutation <span class="op">=</span> <span class="fu">gnomeR</span><span class="fu">::</span><span class="va"><a href="mutations.html">mutations</a></span>,</span></span>
<span class="r-in"><span>  mut_type <span class="op">=</span> <span class="st">"omit_germline"</span>, snp_only <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  include_silent <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> 7 mutations have `NA` or blank in the <span style="color: #00BB00;">mutationStatus</span> column instead of 'SOMATIC' or 'GERMLINE'. These were assumed to be 'SOMATIC' and were retained in the resulting binary matrix.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.karissawhiting.com/" class="external-link">Karissa Whiting</a>, Michael Curry, <a href="https://github.com/hfuchs5/" class="external-link">Hannah Fuchs</a>, Axel Martin, Arshi Arora.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

